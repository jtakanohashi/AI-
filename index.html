<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChickenAI - È∂èËÇâ„É¨„Ç∑„Éî„Ç≥„É≥„Ç∑„Çß„É´„Ç∏„É•</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #FDFCF8;
        }
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .recipe-card:hover { transform: translateY(-4px); transition: all 0.3s ease; }
    </style>
</head>
<body class="text-gray-800 antialiased pb-20">

    <!-- Header -->
    <header class="bg-white/90 backdrop-blur-md sticky top-0 z-50 border-b border-orange-50 px-6 py-4 shadow-sm">
        <div class="container mx-auto flex items-center justify-between">
            <div onclick="resetApp()" class="font-black text-orange-600 flex items-center gap-2 text-2xl italic cursor-pointer active:scale-95 transition-transform">
                <i data-lucide="chef-hat"></i> ChickenAI
            </div>
            <div id="step-indicator" class="hidden sm:flex items-center gap-2">
                <div class="step-dot h-2 w-16 bg-orange-500 rounded-full"></div>
                <div class="step-dot h-2 w-6 bg-gray-100 rounded-full"></div>
                <div class="step-dot h-2 w-6 bg-gray-100 rounded-full"></div>
            </div>
            <button onclick="resetApp()" class="text-xs font-black bg-gray-100 px-4 py-2 rounded-full hover:bg-gray-200 transition-colors">„É™„Çª„ÉÉ„Éà</button>
        </div>
    </header>

    <main id="app-container" class="container mx-auto px-4 py-8">
        <!-- Content will be injected here by JavaScript -->
    </main>

    <script>
        // --- „Éá„Éº„ÇøÂÆöÁæ© ---
        const MOODS = [
            { id: 'hearty', label: '„Ç¨„ÉÉ„ÉÑ„É™', icon: 'üçñ', desc: 'ÁôΩÈ£Ø„Çí„Åã„Åç„Åì„Åø„Åü„ÅÑ' },
            { id: 'light', label: '„Åï„Å£„Å±„Çä', icon: 'ü•ó', desc: 'ËÉÉ„Å´ÂÑ™„Åó„Åè„Éò„É´„Ç∑„Éº„Å´' },
            { id: 'quick', label: 'ÊôÇÁü≠„ÉªÁ∞°Âçò', icon: '‚ö°', desc: '10ÂàÜ„Åß‰Ωú„Çä„Åü„ÅÑ' },
            { id: 'snack', label: '„Åä„Å§„Åæ„Åø', icon: 'üç∫', desc: '„ÅäÈÖí„Å´Âêà„ÅÜÂë≥' },
        ];

        const INGREDIENTS = [
            { id: 'onion', label: 'Áéâ„Å≠„Åé' },
            { id: 'egg', label: 'Âçµ' },
            { id: 'leek', label: 'Èï∑„Éç„ÇÆ' },
            { id: 'potato', label: '„Åò„ÇÉ„Åå„ÅÑ„ÇÇ' },
            { id: 'cheese', label: '„ÉÅ„Éº„Ç∫' },
            { id: 'cabbage', label: '„Ç≠„É£„Éô„ÉÑ' },
            { id: 'mushroom', label: '„Åç„ÅÆ„ÅìÈ°û' },
            { id: 'tomato', label: '„Éà„Éû„Éà' },
            { id: 'bean-sprouts', label: '„ÇÇ„ÇÑ„Åó' },
            { id: 'carrot', label: '„Å´„Çì„Åò„Çì' },
            { id: 'green-pepper', label: '„Éî„Éº„Éû„É≥' },
        ];

        const RECIPES = [
            { id: 1, title: 'Ëá≥È´ò„ÅÆË¶™Â≠ê‰∏º', part: '„ÇÇ„ÇÇËÇâ', moods: ['hearty', 'quick'], ingredients: ['onion', 'egg'], time: '12ÂàÜ', calories: '650kcal', imageEmoji: 'üçö', appeal: 'Âä†ÁÜ±„Åó„Å¶„ÇÇÂõ∫„Åè„Å™„Çä„Å´„Åè„ÅÑ„ÄÅ„ÇÇ„ÇÇËÇâ„ÅÆ„Éó„É™„Éó„É™ÊÑü„ÇíÂ†™ËÉΩ„Åó„Å¶„ÄÇ', searchUrl: 'https://www.kurashiru.com/search?query=' + encodeURIComponent('Ë¶™Â≠ê‰∏º È∂è„ÇÇ„ÇÇËÇâ Áéâ„Å≠„Åé Âçµ') },
            { id: 2, title: 'È∂è„Ç≠„É£„Éô„ÉÑ„ÅÆÂõûÈçãËÇâÈ¢®', part: '„ÇÇ„ÇÇËÇâ', moods: ['hearty'], ingredients: ['cabbage', 'green-pepper'], time: '15ÂàÜ', calories: '480kcal', imageEmoji: 'ü•ò', appeal: '„Ç≠„É£„Éô„ÉÑ„ÅØÊâã„Åß„Å°„Åé„Çã„Å®Âë≥„ÅåÊüì„ÅøËæº„Åø„ÇÑ„Åô„Åè„Å™„Çä„Åæ„Åô„ÄÇ', searchUrl: 'https://cookpad.com/search/' + encodeURIComponent('È∂è„ÇÇ„ÇÇËÇâ „Ç≠„É£„Éô„ÉÑ ÂõûÈçãËÇâ') },
            { id: 3, title: '„Å®„Çç„Äú„Çä„ÉÅ„Éº„Ç∫„Çø„ÉÉ„Ç´„É´„Éì', part: '„ÇÇ„ÇÇËÇâ', moods: ['hearty', 'snack'], ingredients: ['cabbage', 'cheese', 'onion'], time: '20ÂàÜ', calories: '720kcal', imageEmoji: 'üßÄ', appeal: '„Ç≠„É£„Éô„ÉÑ„ÅÆËäØ„Å´Ëøë„ÅÑÈÉ®ÂàÜ„ÅØËñÑÂàá„Çä„Å´„Åô„Çã„Å®ÁÅ´ÈÄö„Çä„ÅåÂùá‰∏Ä„Å´„Å™„Çä„Åæ„Åô„ÄÇ', searchUrl: 'https://delishkitchen.tv/search?q=' + encodeURIComponent('„ÉÅ„Éº„Ç∫„Çø„ÉÉ„Ç´„É´„Éì È∂è„ÇÇ„ÇÇËÇâ') },
            { id: 4, title: 'È∂è„ÇÇ„ÇÇËÇâ„ÅÆ„Å≠„ÅéÂ°©ÁÑº„Åç', part: '„ÇÇ„ÇÇËÇâ', moods: ['snack', 'quick'], ingredients: ['leek'], time: '10ÂàÜ', calories: '380kcal', imageEmoji: 'ü•¢', appeal: '„É¨„É¢„É≥Ê±Å„ÇíÊúÄÂæå„Å´„Åã„Åë„Çã„Å®„ÄÅ„Å≠„Åé„ÅÆÁîò„Åø„ÅåÂºï„ÅçÁ´ã„Å°„Åæ„Åô„ÄÇ', searchUrl: 'https://www.kurashiru.com/search?query=' + encodeURIComponent('È∂è„ÇÇ„ÇÇËÇâ „Å≠„ÅéÂ°©ÁÑº„Åç') },
            { id: 21, title: 'È∂è„ÇÄ„Å≠ËÇâ„ÅÆ„Ç¨„É™„Éê„Çø„Éù„É≥ÁÇí„ÇÅ', part: '„ÇÄ„Å≠ËÇâ', moods: ['hearty', 'quick'], ingredients: ['cabbage', 'mushroom'], time: '12ÂàÜ', calories: '320kcal', imageEmoji: 'üßÑ', appeal: '„ÇÄ„Å≠ËÇâ„ÅØ‰∫àÁÜ±„ÅßÁÅ´„ÇíÈÄö„Åô„Å®„ÄÅÈ©ö„Åè„Åª„Å©Êüî„Çâ„Åã„Åè‰ªï‰∏ä„Åå„Çä„Åæ„Åô„ÄÇ', searchUrl: 'https://www.kurashiru.com/search?query=' + encodeURIComponent('È∂è„ÇÄ„Å≠ËÇâ „Ç≠„É£„Éô„ÉÑ „Éê„Çø„Éº„Éù„É≥ÈÖ¢') },
            { id: 22, title: '„Çà„Å†„ÇåÈ∂èÈ¢®„Éî„É™Ëæõ„ÇÇ„ÇÑ„Åó', part: '„ÇÄ„Å≠ËÇâ', moods: ['snack', 'light'], ingredients: ['bean-sprouts', 'leek'], time: '10ÂàÜ', calories: '240kcal', imageEmoji: 'üî•', appeal: '„É¨„É≥„Ç∏Ë™øÁêÜ„ÅßÊ≤π„Çí‰Ωø„Çè„Åö„ÄÅÁ©∂Ê•µ„Å´„Éò„É´„Ç∑„Éº„ÄÇ', searchUrl: 'https://cookpad.com/search/' + encodeURIComponent('È∂è„ÇÄ„Å≠ËÇâ „ÇÇ„ÇÑ„Åó „Çà„Å†„ÇåÈ∂è') },
            { id: 23, title: 'È∂è„ÇÄ„Å≠ËÇâ„ÅÆ„Ç™„Éº„É≠„É©Âíå„Åà', part: '„ÇÄ„Å≠ËÇâ', moods: ['hearty'], ingredients: ['potato', 'carrot'], time: '18ÂàÜ', calories: '450kcal', imageEmoji: 'üçÖ', appeal: '„Ç±„ÉÅ„É£„ÉÉ„Éó„Å®„Éû„É®„ÅÆ„Ç≥„ÇØ„Åß„ÄÅ„ÇÄ„Å≠ËÇâ„Åå„ÅîÈ¶≥Ëµ∞„Å´„ÄÇ', searchUrl: 'https://delishkitchen.tv/search?q=' + encodeURIComponent('È∂è„ÇÄ„Å≠ËÇâ „Ç™„Éº„É≠„É©„ÇΩ„Éº„Çπ') },
            { id: 24, title: 'Ëí∏„ÅóÈ∂è„ÅÆÂíåÈ¢®„Éà„Éû„ÉàÂíå„Åà', part: '„ÇÄ„Å≠ËÇâ', moods: ['light'], ingredients: ['tomato', 'onion'], time: '8ÂàÜ', calories: '190kcal', imageEmoji: 'ü•ó', appeal: 'Áéâ„Å≠„Åé„ÅØÊ∞¥„Å´„Åï„Çâ„Åó„Å¶ËæõÂë≥„ÇíÊäú„Åè„ÅÆ„Åå„Éù„Ç§„É≥„Éà„ÄÇ', searchUrl: 'https://www.lettuceclub.net/recipe/search/' + encodeURIComponent('È∂è„ÇÄ„Å≠ËÇâ „Éà„Éû„Éà „Çµ„É©„ÉÄ') + '/' },
            { id: 31, title: 'ÁÑ°ÈôêÈ∂è„ÇÇ„ÇÑ„Åó„Ç≠„É£„Éô„ÉÑ', part: '„ÇÄ„Å≠ËÇâ', moods: ['quick', 'snack'], ingredients: ['bean-sprouts', 'cabbage'], time: '7ÂàÜ', calories: '210kcal', imageEmoji: 'ü•¢', appeal: 'È∂è„Ç¨„É©„ÅÆÁ¥†„Å®„Åî„ÅæÊ≤π„Å†„Åë„Åß„ÄÅ„ÅäÁÆ∏„ÅåÊ≠¢„Åæ„Çä„Åæ„Åõ„Çì„ÄÇ', searchUrl: 'https://cookpad.com/search/' + encodeURIComponent('È∂èËÇâ „ÇÇ„ÇÑ„Åó „Ç≠„É£„Éô„ÉÑ ÁÑ°Èôê') }
        ];

        // --- Áä∂ÊÖãÁÆ°ÁêÜ ---
        let currentStep = 0;
        let selectedMood = null;
        let selectedIngredients = [];

        // --- „Ç¢„Éó„É™Âà∂Âæ° ---
        function render() {
            const container = document.getElementById('app-container');
            const indicatorDots = document.querySelectorAll('.step-dot');
            
            indicatorDots.forEach((dot, i) => {
                if (currentStep >= i + 1) {
                    dot.classList.remove('bg-gray-100', 'w-6');
                    dot.classList.add('bg-orange-500', 'w-16');
                } else {
                    dot.classList.remove('bg-orange-500', 'w-16');
                    dot.classList.add('bg-gray-100', 'w-6');
                }
            });

            if (currentStep === 0) {
                container.innerHTML = `
                    <div class="flex flex-col items-center justify-center min-h-[70vh] text-center p-6 space-y-8 animate-fade-in">
                        <div class="bg-orange-100 p-8 rounded-[40px] shadow-inner transform -rotate-3 transition-transform duration-500">
                            <i data-lucide="chef-hat" class="w-20 h-20 text-orange-500"></i>
                        </div>
                        <div class="space-y-2">
                            <h1 class="text-5xl font-black text-gray-900 tracking-tighter">ChickenAI</h1>
                            <p class="text-gray-500 max-w-sm mx-auto leading-relaxed font-bold">ÂÜ∑ËîµÂ∫´„Å´„ÅÇ„Çã„ÇÇ„ÅÆ„Åã„Çâ„ÄÅ<br>‰ªäÊó•„ÅÆ„ÄåÊ≠£Ëß£„É¨„Ç∑„Éî„Äç„ÇíÂ∞é„ÅçÂá∫„Åó„Åæ„Åô„ÄÇ</p>
                        </div>
                        <button onclick="setStep(1)" class="bg-orange-600 hover:bg-orange-700 text-white font-bold py-5 px-16 rounded-full shadow-xl transition-all active:scale-95 flex items-center gap-3 text-lg group">
                            ÁåÆÁ´ã„ÇíÁõ∏Ë´á„Åô„Çã <i data-lucide="arrow-right"></i>
                        </button>
                    </div>
                `;
            } else if (currentStep === 1) {
                container.innerHTML = `
                    <div class="p-6 max-w-2xl mx-auto animate-fade-in">
                        <div class="text-center mb-10">
                            <span class="text-orange-600 font-bold text-sm tracking-widest uppercase">Step 01 / Mood</span>
                            <h2 class="text-3xl font-black text-gray-800 mt-2">‰ªä„ÅÆÊ∞óÂàÜ„ÅØÔºü</h2>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
                            ${MOODS.map(mood => `
                                <button onclick="selectMood('${mood.id}')" class="flex items-center p-6 bg-white border-2 border-gray-50 hover:border-orange-400 rounded-3xl shadow-sm hover:shadow-md transition-all group text-left">
                                    <span class="text-5xl mr-5">${mood.icon}</span>
                                    <div><span class="text-xl font-black text-gray-800 block">${mood.label}</span><span class="text-xs text-gray-400 font-bold">${mood.desc}</span></div>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (currentStep === 2) {
                container.innerHTML = `
                    <div class="p-6 max-w-2xl mx-auto animate-fade-in">
                        <div class="text-center mb-10">
                            <span class="text-orange-600 font-bold text-sm tracking-widest uppercase">Step 02 / Ingredients</span>
                            <h2 class="text-3xl font-black text-gray-800 mt-2">‰Ωø„ÅÜÈ£üÊùêÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ</h2>
                            <p class="text-gray-400 mt-2 text-sm font-bold">ÂÜ∑ËîµÂ∫´„Å´„ÅÇ„Çã„ÇÇ„ÅÆ„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ</p>
                        </div>
                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-10">
                            ${INGREDIENTS.map(ing => `
                                <button onclick="toggleIngredient('${ing.id}')" class="p-4 rounded-2xl border-2 text-sm font-bold transition-all flex flex-col items-center gap-2 relative ${selectedIngredients.includes(ing.id) ? 'border-orange-500 bg-orange-50 text-orange-700' : 'border-gray-100 bg-white text-gray-500'}">
                                    ${ing.label}
                                </button>
                            `).join('')}
                        </div>
                        <div class="flex flex-col sm:flex-row justify-center gap-4 items-center">
                            <button onclick="setStep(1)" class="px-8 py-4 font-bold text-gray-400 hover:text-gray-600 transition">Êàª„Çã</button>
                            <button onclick="showResults()" class="bg-gray-900 text-white font-black py-5 px-16 rounded-full shadow-2xl hover:bg-black transition-all active:scale-95 w-full sm:w-auto text-center flex items-center justify-center gap-3">
                                „É¨„Ç∑„Éî„ÇíÊ±∫ÂÆöÔºÅ <i data-lucide="search"></i>
                            </button>
                        </div>
                    </div>
                `;
            } else if (currentStep === 3) {
                const results = getMatchedRecipes();
                const best = results[0];
                const others = results.slice(1, 4); // „Åª„Åã„ÅÆÂÄôË£ú3„Å§

                container.innerHTML = `
                    <div class="p-4 sm:p-6 max-w-3xl mx-auto animate-fade-in space-y-12">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                            <h2 class="text-3xl font-black text-gray-900 flex items-center gap-2">AI„ÅÆÂõûÁ≠î</h2>
                            <button onclick="resetApp()" class="text-orange-600 font-bold flex items-center gap-2 border-2 border-orange-50 px-5 py-3 rounded-2xl"><i data-lucide="rotate-ccw" class="w-4 h-4"></i> ÊúÄÂàù„Åã„Çâ</button>
                        </div>

                        <!-- „Éô„Çπ„Éà„Éû„ÉÉ„ÉÅ -->
                        <div class="bg-white rounded-[40px] shadow-2xl overflow-hidden border-4 border-orange-500 p-8 sm:p-10 relative">
                            <div class="absolute top-0 right-0 p-6"><span class="bg-orange-600 text-white text-[10px] font-black px-4 py-1.5 rounded-full">BEST MATCH</span></div>
                            <div class="flex flex-col md:flex-row gap-8 items-center md:items-start">
                                <div class="flex-shrink-0 bg-orange-50 w-32 h-32 sm:w-44 sm:h-44 rounded-[40px] flex items-center justify-center text-7xl shadow-inner border-4 border-white">${best.imageEmoji}</div>
                                <div class="flex-grow">
                                    <h3 class="text-3xl font-black text-gray-900 mb-3">${best.title}</h3>
                                    <p class="text-orange-900 text-sm font-bold bg-orange-50 p-4 rounded-2xl mb-6">${best.appeal}</p>
                                    <div class="grid grid-cols-2 gap-3 mb-8">
                                        <div class="flex items-center gap-3 bg-gray-50 p-4 rounded-2xl"><i data-lucide="clock" class="text-orange-500 w-5 h-5"></i><span class="text-sm font-black">${best.time}</span></div>
                                        <div class="flex items-center gap-3 bg-gray-50 p-4 rounded-2xl"><i data-lucide="flame" class="text-orange-500 w-5 h-5"></i><span class="text-sm font-black">${best.calories}</span></div>
                                    </div>
                                    <a href="${best.searchUrl}" target="_blank" class="w-full py-5 rounded-3xl font-black bg-gray-900 text-white hover:bg-black transition-all shadow-xl flex items-center justify-center gap-2">ÂÖ¨Âºè„É¨„Ç∑„Éî„ÇíÊ§úÁ¥¢ <i data-lucide="external-link"></i></a>
                                </div>
                            </div>
                        </div>

                        <!-- „Åª„Åã„ÅÆÂÄôË£ú 3„Å§ -->
                        ${others.length > 0 ? `
                        <div class="space-y-6">
                            <h3 class="text-xl font-black text-gray-700 flex items-center gap-2"><i data-lucide="utensils" class="w-5 h-5"></i> „Åª„Åã„ÅÆÂÄôË£ú</h3>
                            <div class="grid grid-cols-1 gap-4">
                                ${others.map(item => `
                                    <div class="bg-white p-6 rounded-[30px] shadow-md border-2 border-gray-50 flex items-center gap-6 hover:shadow-lg transition-all">
                                        <div class="w-20 h-20 bg-gray-50 rounded-2xl flex items-center justify-center text-4xl shadow-inner">${item.imageEmoji}</div>
                                        <div class="flex-grow">
                                            <div class="flex items-center gap-2 mb-1">
                                                <span class="text-[10px] font-black bg-gray-800 text-white px-3 py-1 rounded-full uppercase">${item.part}</span>
                                            </div>
                                            <h4 class="font-black text-gray-900 text-xl">${item.title}</h4>
                                            <p class="text-xs text-gray-400 font-bold">${item.time} / ${item.calories}</p>
                                        </div>
                                        <a href="${item.searchUrl}" target="_blank" class="bg-gray-100 p-4 rounded-full text-gray-400 hover:bg-orange-600 hover:text-white transition-all">
                                            <i data-lucide="external-link" class="w-6 h-6"></i>
                                        </a>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                `;
            }

            lucide.createIcons();
        }

        function setStep(step) {
            currentStep = step;
            render();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function selectMood(id) {
            selectedMood = id;
            setStep(2);
        }

        function toggleIngredient(id) {
            const index = selectedIngredients.indexOf(id);
            if (index > -1) selectedIngredients.splice(index, 1);
            else selectedIngredients.push(id);
            render();
        }

        function getMatchedRecipes() {
            return RECIPES.map(recipe => {
                let score = 0;
                const matched = recipe.ingredients.filter(i => selectedIngredients.includes(i));
                if (selectedIngredients.length > 0) {
                    if (matched.length > 0) score += 5000 + (matched.length * 1000);
                    else score -= 10000;
                }
                if (recipe.moods.includes(selectedMood)) score += 2000;
                return { ...recipe, score };
            }).sort((a, b) => b.score - a.score);
        }

        function showResults() { setStep(3); }
        function resetApp() { currentStep = 0; selectedMood = null; selectedIngredients = []; render(); }

        window.onload = render;
    </script>
</body>
</html>
